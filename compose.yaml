services:
  app:
    build: .
    tty: true
    stdin_open: true
    working_dir: /app
    volumes:
      - ./src:/app
      - vendor-vol:/app/vendor
    ports:
      - 8000:8000
    command: >
      bash -c "composer i &&
      php artisan migrate --force --seed &&
      php artisan serve --host=0.0.0.0 --port=8000"

volumes:
  vendor-vol:
